(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dddaa00"],{"057f":function(t,e,r){var a=r("fc6a"),o=r("241c").f,n={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return o(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==n.call(t)?i(t):o(a(t))}},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},"62b3":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"container"},[0!==t.cart.carts.length?r("div",{staticClass:"row justify-content-center mt-4 d-flex"},[r("h3",[t._v("購物車內容")]),r("table",{staticClass:"table mt-4"},[t._m(0),r("tbody",[t._l(t.cart.carts,(function(e){return r("tr",{key:e.id},[r("td",[r("button",{staticClass:"btn btn-outline-danger",on:{click:function(r){return t.openDelModal(e)}}},[r("i",{staticClass:"fas fa-trash-alt"})])]),r("td",[t._v(" "+t._s(e.product.title)+" "),e.coupon?r("div",{staticClass:"text-success"},[t._v("以套用優惠卷")]):t._e()]),r("td",{staticClass:"text-right"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.total)))])])})),r("tr",[r("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.cart.final_total!==t.cart.total?r("tr",[r("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣後價格")]),r("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e()],2)]),r("div",{staticClass:"input-group mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v(" 套用優惠卷 ")])])]),r("h3",[t._v("結帳表單")]),r("ValidationObserver",{ref:"form",attrs:{slim:""}},[r("form",{staticClass:"col-md-12",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[r("ValidationProvider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.failed,o=e.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"username"}},[t._v("*收件人姓名")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":a},attrs:{type:"text",id:"username",name:"name",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),a?r("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()])]}}],null,!1,3285494137)}),r("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.failed,o=e.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"username"}},[t._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":a},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),a?r("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()])]}}],null,!1,4015766963)}),r("ValidationProvider",{attrs:{name:"收件人電話",rules:"required|numeric"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.failed,o=e.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":a},attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),a?r("span",{staticClass:"text-danger"},[t._v(t._s(o[0]))]):t._e()])]}}],null,!1,3178215630)}),r("ValidationProvider",{attrs:{name:"收件人地址",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.failed;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":a},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a?r("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()])]}}],null,!1,1242181502)}),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"comment"}},[t._v("留言")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),r("div",{staticClass:"text-right"},[r("button",{staticClass:"btn btn-block btn-lg btn-primary text-white my-3 rounded-0"},[t._v(" 送出訂單 ")])])],1)]),r("div",{staticClass:"modal fade",attrs:{id:"delCartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content border-0"},[t._m(1),r("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),r("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCart.product.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),r("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.removeCart}},[t._v("確認刪除")])])])])])],1):t._e()])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th"),r("th",[t._v("品名")]),r("th",{attrs:{width:"80"}},[t._v("數量")]),r("th",{attrs:{width:"120"}},[t._v("單價")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-header bg-danger text-white"},[r("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[r("span",[t._v("刪除產品")])]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=(r("99af"),r("5530")),s=r("1157"),i=r.n(s),c=r("2f62"),l={data:function(){return{products:[],coupon_code:"",tempCart:{product:{title:""}},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["getCart"])),{},{openDelModal:function(t){this.$set(this,"tempCart",t),i()("#delCartModal").modal("show")},removeCart:function(){var t=this,e=t.tempCart.id;this.$store.dispatch("removeCart",e),i()("#delCartModal").modal("hide")},addCouponCode:function(){var t=this,e=this,r=(e.tempCart.id,{code:e.coupon_code}),a="".concat(Object({NODE_ENV:"production",BASE_URL:"/vue_shop_Backstage/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/vue_shop_Backstage/"}).VUE_APP_CUSTOMPATH,"/coupon");this.$http.post(a,{data:r}).then((function(e){console.log(e),t.getOrder()}))},createOrder:function(){var t=this,e=this,r=e.form;e.isLoading=!0;var a="".concat(Object({NODE_ENV:"production",BASE_URL:"/vue_shop_Backstage/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/vue_shop_Backstage/"}).VUE_APP_CUSTOMPATH,"/order");this.$refs.form.validate().then((function(o){o?t.$http.post(a,{data:r}).then((function(t){console.log("訂單建立",t),t.data.success&&(e.$router.push("/cart_over/".concat(t.data.orderId)),console.log(t.data.orderId)),e.isLoading=!1})):(console.log("欄位不完整"),e.isLoading=!1)}))}}),computed:Object(n["a"])({},Object(c["c"])(["isLoading","cart"])),created:function(){this.getCart()}},u=l,d=r("2877"),f=Object(d["a"])(u,a,o,!1,null,null,null);e["default"]=f.exports},"746f":function(t,e,r){var a=r("428f"),o=r("5135"),n=r("e538"),s=r("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});o(e,t)||s(e,t,{value:n.f(t)})}},a4d3:function(t,e,r){"use strict";var a=r("23e7"),o=r("da84"),n=r("d066"),s=r("c430"),i=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),d=r("5135"),f=r("e8b5"),m=r("861d"),p=r("825a"),v=r("7b0b"),b=r("fc6a"),g=r("c04e"),h=r("5c6c"),_=r("7c73"),y=r("df75"),C=r("241c"),O=r("057f"),w=r("7418"),P=r("06cf"),j=r("9bf2"),x=r("d1e7"),S=r("9112"),E=r("6eeb"),k=r("5692"),N=r("f772"),A=r("d012"),D=r("90e3"),$=r("b622"),V=r("e538"),L=r("746f"),U=r("d44e"),M=r("69f3"),B=r("b727").forEach,T=N("hidden"),q="Symbol",I="prototype",H=$("toPrimitive"),J=M.set,R=M.getterFor(q),F=Object[I],Q=o.Symbol,W=n("JSON","stringify"),z=P.f,G=j.f,K=O.f,X=x.f,Y=k("symbols"),Z=k("op-symbols"),tt=k("string-to-symbol-registry"),et=k("symbol-to-string-registry"),rt=k("wks"),at=o.QObject,ot=!at||!at[I]||!at[I].findChild,nt=i&&u((function(){return 7!=_(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,r){var a=z(F,e);a&&delete F[e],G(t,e,r),a&&t!==F&&G(F,e,a)}:G,st=function(t,e){var r=Y[t]=_(Q[I]);return J(r,{type:q,tag:t,description:e}),i||(r.description=e),r},it=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},ct=function(t,e,r){t===F&&ct(Z,e,r),p(t);var a=g(e,!0);return p(r),d(Y,a)?(r.enumerable?(d(t,T)&&t[T][a]&&(t[T][a]=!1),r=_(r,{enumerable:h(0,!1)})):(d(t,T)||G(t,T,h(1,{})),t[T][a]=!0),nt(t,a,r)):G(t,a,r)},lt=function(t,e){p(t);var r=b(e),a=y(r).concat(pt(r));return B(a,(function(e){i&&!dt.call(r,e)||ct(t,e,r[e])})),t},ut=function(t,e){return void 0===e?_(t):lt(_(t),e)},dt=function(t){var e=g(t,!0),r=X.call(this,e);return!(this===F&&d(Y,e)&&!d(Z,e))&&(!(r||!d(this,e)||!d(Y,e)||d(this,T)&&this[T][e])||r)},ft=function(t,e){var r=b(t),a=g(e,!0);if(r!==F||!d(Y,a)||d(Z,a)){var o=z(r,a);return!o||!d(Y,a)||d(r,T)&&r[T][a]||(o.enumerable=!0),o}},mt=function(t){var e=K(b(t)),r=[];return B(e,(function(t){d(Y,t)||d(A,t)||r.push(t)})),r},pt=function(t){var e=t===F,r=K(e?Z:b(t)),a=[];return B(r,(function(t){!d(Y,t)||e&&!d(F,t)||a.push(Y[t])})),a};if(c||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=D(t),r=function(t){this===F&&r.call(Z,t),d(this,T)&&d(this[T],e)&&(this[T][e]=!1),nt(this,e,h(1,t))};return i&&ot&&nt(F,e,{configurable:!0,set:r}),st(e,t)},E(Q[I],"toString",(function(){return R(this).tag})),E(Q,"withoutSetter",(function(t){return st(D(t),t)})),x.f=dt,j.f=ct,P.f=ft,C.f=O.f=mt,w.f=pt,V.f=function(t){return st($(t),t)},i&&(G(Q[I],"description",{configurable:!0,get:function(){return R(this).description}}),s||E(F,"propertyIsEnumerable",dt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),B(y(rt),(function(t){L(t)})),a({target:q,stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var r=Q(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!i},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:mt,getOwnPropertySymbols:pt}),a({target:"Object",stat:!0,forced:u((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(v(t))}}),W){var vt=!c||u((function(){var t=Q();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));a({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,r){var a,o=[t],n=1;while(arguments.length>n)o.push(arguments[n++]);if(a=e,(m(e)||void 0!==t)&&!it(t))return f(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!it(e))return e}),o[1]=e,W.apply(null,o)}})}Q[I][H]||S(Q[I],H,Q[I].valueOf),U(Q,q),A[T]=!0},dbb4:function(t,e,r){var a=r("23e7"),o=r("83ab"),n=r("56ef"),s=r("fc6a"),i=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,r,a=s(t),o=i.f,l=n(a),u={},d=0;while(l.length>d)r=o(a,e=l[d++]),void 0!==r&&c(u,e,r);return u}})},e439:function(t,e,r){var a=r("23e7"),o=r("d039"),n=r("fc6a"),s=r("06cf").f,i=r("83ab"),c=o((function(){s(1)})),l=!i||c;a({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(t,e){return s(n(t),e)}})},e538:function(t,e,r){var a=r("b622");e.f=a}}]);
//# sourceMappingURL=chunk-4dddaa00.d5cea140.js.map